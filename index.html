<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="./icon.png" />
    <meta name="viewport" content="width=1200, initial-scale=1.0" />
    <title>DailyWell - Wellness & Planning App</title>
    <script>
      // Simple share-modal blocking
      (function() {
        // Block share-modal scripts
        const originalCreateElement = document.createElement;
        document.createElement = function(tagName) {
          const element = originalCreateElement.call(this, tagName);
          if (tagName.toLowerCase() === 'script') {
            const originalSetAttribute = element.setAttribute;
            element.setAttribute = function(name, value) {
              if (name === 'src' && value && value.includes('share-modal')) {
                console.log('BLOCKED: share-modal script');
                return;
              }
              return originalSetAttribute.call(this, name, value);
            };
          }
          return element;
        };
        
        // Block null reference errors
        if (typeof Element !== 'undefined' && Element.prototype) {
          const originalAddEventListener = Element.prototype.addEventListener;
          Element.prototype.addEventListener = function(type, listener, options) {
            if (!this || this === null) {
              console.log('BLOCKED: addEventListener on null element');
              return;
            }
            try {
              return originalAddEventListener.call(this, type, listener, options);
            } catch (e) {
              console.log('BLOCKED: addEventListener error:', e.message);
              return;
            }
          };
        }
        
        console.log('Share-modal protection activated');
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./src/main.tsx"></script>
  </body>
</html>
